(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function k(){}const Fe=t=>t;function st(t,e){for(const n in e)t[n]=e[n];return t}function rt(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Xe(t){return t()}function Ae(){return Object.create(null)}function U(t){t.forEach(Xe)}function X(t){return typeof t=="function"}function P(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ot(t){return Object.keys(t).length===0}function Ge(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function lt(t){let e;return Ge(t,n=>e=n)(),e}function de(t,e,n){t.$$.on_destroy.push(Ge(e,n))}function se(t,e,n,r){if(t){const s=Ke(t,e,n,r);return t[0](s)}}function Ke(t,e,n,r){return t[1]&&r?st(n.ctx.slice(),t[1](r(e))):n.ctx}function re(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],l=Math.max(e.dirty.length,s.length);for(let f=0;f<l;f+=1)o[f]=e.dirty[f]|s[f];return o}return e.dirty|s}return e.dirty}function oe(t,e,n,r,s,o){if(s){const l=Ke(e,n,r,o);t.p(l,s)}}function le(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Te(t){return t==null?"":t}function it(t){return t&&X(t.destroy)?t.destroy:k}const Ue=typeof window<"u";let ut=Ue?()=>window.performance.now():()=>Date.now(),ye=Ue?t=>requestAnimationFrame(t):k;const Z=new Set;function Je(t){Z.forEach(e=>{e.c(t)||(Z.delete(e),e.f())}),Z.size!==0&&ye(Je)}function ct(t){let e;return Z.size===0&&ye(Je),{promise:new Promise(n=>{Z.add(e={c:t,f:n})}),abort(){Z.delete(e)}}}function H(t,e){t.appendChild(e)}function Qe(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ft(t){const e=C("style");return at(Qe(t),e),e.sheet}function at(t,e){return H(t.head||t,e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function C(t){return document.createElement(t)}function G(t){return document.createTextNode(t)}function W(){return G(" ")}function dt(){return G("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mt(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function q(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function We(t,e,n){t.classList[n?"add":"remove"](e)}function Ye(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}const _e=new Map;let pe=0;function _t(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function pt(t,e){const n={stylesheet:ft(e),rules:{}};return _e.set(t,n),n}function ht(t,e,n,r,s,o,l,f=0){const u=16.666/r;let i=`{
`;for(let m=0;m<=1;m+=u){const g=e+(n-e)*o(m);i+=m*100+`%{${l(g,1-g)}}
`}const a=i+`100% {${l(n,1-n)}}
}`,d=`__svelte_${_t(a)}_${f}`,p=Qe(t),{stylesheet:c,rules:h}=_e.get(p)||pt(p,t);h[d]||(h[d]=!0,c.insertRule(`@keyframes ${d} ${a}`,c.cssRules.length));const L=t.style.animation||"";return t.style.animation=`${L?`${L}, `:""}${d} ${r}ms linear ${s}ms 1 both`,pe+=1,d}function He(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),pe-=s,pe||gt())}function gt(){ye(()=>{pe||(_e.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),_e.clear())})}let te;function O(t){te=t}function $e(){if(!te)throw new Error("Function called outside component initialization");return te}function ke(t){$e().$$.on_mount.push(t)}function Ee(){const t=$e();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Ye(e,n,{cancelable:r});return s.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}const ee=[],j=[],fe=[],ve=[],vt=Promise.resolve();let be=!1;function bt(){be||(be=!0,vt.then(Ce))}function ne(t){fe.push(t)}function Le(t){ve.push(t)}const ge=new Set;let ie=0;function Ce(){const t=te;do{for(;ie<ee.length;){const e=ee[ie];ie++,O(e),wt(e.$$)}for(O(null),ee.length=0,ie=0;j.length;)j.pop()();for(let e=0;e<fe.length;e+=1){const n=fe[e];ge.has(n)||(ge.add(n),n())}fe.length=0}while(ee.length);for(;ve.length;)ve.pop()();be=!1,ge.clear(),O(t)}function wt(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ne)}}let x;function yt(){return x||(x=Promise.resolve(),x.then(()=>{x=null})),x}function Pe(t,e,n){t.dispatchEvent(Ye(`${e?"intro":"outro"}${n}`))}const ae=new Set;let V;function Me(){V={r:0,c:[],p:V}}function ze(){V.r||U(V.c),V=V.p}function E(t,e){t&&t.i&&(ae.delete(t),t.i(e))}function M(t,e,n,r){if(t&&t.o){if(ae.has(t))return;ae.add(t),V.c.push(()=>{ae.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const $t={duration:0};function kt(t,e,n){let r=e(t,n),s=!1,o,l,f=0;function u(){o&&He(t,o)}function i(){const{delay:d=0,duration:p=300,easing:c=Fe,tick:h=k,css:L}=r||$t;L&&(o=ht(t,0,1,p,d,c,L,f++)),h(0,1);const m=ut()+d,g=m+p;l&&l.abort(),s=!0,ne(()=>Pe(t,!0,"start")),l=ct(b=>{if(s){if(b>=g)return h(1,0),Pe(t,!0,"end"),u(),s=!1;if(b>=m){const z=c((b-m)/p);h(z,1-z)}}return s})}let a=!1;return{start(){a||(a=!0,He(t),X(r)?(r=r(),yt().then(i)):i())},invalidate(){a=!1},end(){s&&(u(),s=!1)}}}function Ne(t,e){const n=e.token={};function r(s,o,l,f){if(e.token!==n)return;e.resolved=f;let u=e.ctx;l!==void 0&&(u=u.slice(),u[l]=f);const i=s&&(e.current=s)(u);let a=!1;e.block&&(e.blocks?e.blocks.forEach((d,p)=>{p!==o&&d&&(Me(),M(d,1,1,()=>{e.blocks[p]===d&&(e.blocks[p]=null)}),ze())}):e.block.d(1),i.c(),E(i,1),i.m(e.mount(),e.anchor),a=!0),e.block=i,e.blocks&&(e.blocks[o]=i),a&&Ce()}if(rt(t)){const s=$e();if(t.then(o=>{O(s),r(e.then,1,e.value,o),O(null)},o=>{if(O(s),r(e.catch,2,e.error,o),O(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function qe(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function T(t){t&&t.c()}function S(t,e,n,r){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),r||ne(()=>{const l=t.$$.on_mount.map(Xe).filter(X);t.$$.on_destroy?t.$$.on_destroy.push(...l):U(l),t.$$.on_mount=[]}),o.forEach(ne)}function A(t,e){const n=t.$$;n.fragment!==null&&(U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){t.$$.dirty[0]===-1&&(ee.push(t),bt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,n,r,s,o,l,f=[-1]){const u=te;O(t);const i=t.$$={fragment:null,ctx:[],props:o,update:k,not_equal:s,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ae(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};l&&l(i.root);let a=!1;if(i.ctx=n?n(t,e.props||{},(d,p,...c)=>{const h=c.length?c[0]:p;return i.ctx&&s(i.ctx[d],i.ctx[d]=h)&&(!i.skip_bound&&i.bound[d]&&i.bound[d](h),a&&Et(t,d)),p}):[],i.update(),a=!0,U(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const d=mt(e.target);i.fragment&&i.fragment.l(d),d.forEach(w)}else i.fragment&&i.fragment.c();e.intro&&E(t.$$.fragment),S(t,e.target,e.anchor,e.customElement),Ce()}O(u)}class D{$destroy(){A(this,1),this.$destroy=k}$on(e,n){if(!X(n))return k;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function Se(t,e=k){let n;const r=new Set;function s(f){if(P(t,f)&&(t=f,n)){const u=!Y.length;for(const i of r)i[1](),Y.push(i,t);if(u){for(let i=0;i<Y.length;i+=2)Y[i][0](Y[i+1]);Y.length=0}}}function o(f){s(f(t))}function l(f,u=k){const i=[f,u];return r.add(i),r.size===1&&(n=e(s)||k),f(t),()=>{r.delete(i),r.size===0&&(n(),n=null)}}return{set:s,update:o,subscribe:l}}const we={raw:"",words:[""],wordsWanted:0,active:!1},ue=Se(""),K=Se(we),F=Se("disconnected"),Ze="https://openai-server-n8us.onrender.com",Lt=Ze+"/connect",Ct=Ze+"/completion",Be=async()=>{await fetch(Lt).then(t=>t.text()).then(t=>{lt(F)!="working"&&(t==="connected"?F.set("connected"):F.set("disconnected"))}).catch(t=>{console.error(t),F.set("disconnected")})},xe=async t=>{F.set("working"),await fetch(Ct+`?prompt=${t}`).then(e=>e.text()).then(e=>{F.set("connected");let n=e.split(" ");K.set({raw:e,words:n,wordsWanted:n.length,active:!0})}).catch(e=>{console.error(e)})},Mt=t=>{let e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},zt=async()=>{await xe("Start a fictional fairytale story:")},qt=async t=>{let e=Mt("continue this story: "+t);await xe(e)};function St(t){let e;return{c(){e=C("span"),$(e,"class","svelte-1rn9lw9")},m(n,r){y(n,e,r)},p:k,i:k,o:k,d(n){n&&w(e)}}}class I extends D{constructor(e){super(),B(this,e,null,St,P,{})}}function At(t){let e,n,r,s,o,l,f,u,i,a,d,p,c,h,L,m,g,b,z,R,J;return e=new I({}),s=new I({}),f=new I({}),a=new I({}),c=new I({}),m=new I({}),z=new I({}),{c(){n=C("div"),T(e.$$.fragment),r=W(),o=C("div"),T(s.$$.fragment),l=W(),u=C("div"),T(f.$$.fragment),i=W(),d=C("div"),T(a.$$.fragment),p=W(),h=C("div"),T(c.$$.fragment),L=W(),g=C("div"),T(m.$$.fragment),b=W(),R=C("div"),T(z.$$.fragment),q(n,"display","contents"),q(n,"--width","5em"),q(o,"display","contents"),q(o,"--width","2em"),q(u,"display","contents"),q(u,"--width","1em"),q(d,"display","contents"),q(d,"--width","4em"),q(h,"display","contents"),q(h,"--width","2em"),q(g,"display","contents"),q(g,"--width","0.5em"),q(R,"display","contents"),q(R,"--width","0.5em")},m(_,v){y(_,n,v),S(e,n,null),y(_,r,v),y(_,o,v),S(s,o,null),y(_,l,v),y(_,u,v),S(f,u,null),y(_,i,v),y(_,d,v),S(a,d,null),y(_,p,v),y(_,h,v),S(c,h,null),y(_,L,v),y(_,g,v),S(m,g,null),y(_,b,v),y(_,R,v),S(z,R,null),J=!0},p:k,i(_){J||(E(e.$$.fragment,_),E(s.$$.fragment,_),E(f.$$.fragment,_),E(a.$$.fragment,_),E(c.$$.fragment,_),E(m.$$.fragment,_),E(z.$$.fragment,_),J=!0)},o(_){M(e.$$.fragment,_),M(s.$$.fragment,_),M(f.$$.fragment,_),M(a.$$.fragment,_),M(c.$$.fragment,_),M(m.$$.fragment,_),M(z.$$.fragment,_),J=!1},d(_){_&&e&&w(n),A(e,_),_&&w(r),_&&s&&w(o),A(s,_),_&&w(l),_&&f&&w(u),A(f,_),_&&w(i),_&&a&&w(d),A(a,_),_&&w(p),_&&c&&w(h),A(c,_),_&&w(L),_&&m&&w(g),A(m,_),_&&w(b),_&&z&&w(R),A(z,_)}}}class Tt extends D{constructor(e){super(),B(this,e,null,At,P,{})}}const ce=t=>{var e=document.createRange();e.selectNodeContents(t),e.collapse();var n=window.getSelection();n.removeAllRanges(),n.addRange(e)};function De(t){let e,n=t[5](t[6](t[2].wordsWanted))+"",r;return{c(){e=C("span"),r=G(n),$(e,"class","svelte-7tk729")},m(s,o){y(s,e,o),H(e,r)},p(s,o){o&4&&n!==(n=s[5](s[6](s[2].wordsWanted))+"")&&me(r,n)},d(s){s&&w(e)}}}function Wt(t){return{c:k,m:k,i:k,o:k,d:k}}function Ht(t){return{c:k,m:k,i:k,o:k,d:k}}function Pt(t){let e,n;return e=new Tt({}),{c(){T(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Nt(t){let e,n,r,s,o,l,f,u=t[2].active&&De(t),i={ctx:t,current:null,token:null,hasCatch:!1,pending:Pt,then:Ht,catch:Wt,blocks:[,,,]};return Ne(s=t[3],i),{c(){e=C("div"),n=G(t[4]),u&&u.c(),r=dt(),i.block.c(),$(e,"contenteditable","true"),$(e,"id","writingWindow"),$(e,"class","svelte-7tk729")},m(a,d){y(a,e,d),H(e,n),u&&u.m(e,null),H(e,r),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,t[13](e),o=!0,l||(f=[N(e,"keydown",t[7]),N(e,"focus",function(){X(t[0])&&t[0].apply(this,arguments)}),N(e,"focusout",function(){X(t[0])&&t[0].apply(this,arguments)}),N(e,"blur",function(){X(t[0])&&t[0].apply(this,arguments)}),N(e,"scroll",t[8])],l=!0)},p(a,[d]){t=a,(!o||d&16)&&me(n,t[4]),t[2].active?u?u.p(t,d):(u=De(t),u.c(),u.m(e,r)):u&&(u.d(1),u=null),i.ctx=t,d&8&&s!==(s=t[3])&&Ne(s,i)},i(a){o||(E(i.block),o=!0)},o(a){for(let d=0;d<3;d+=1){const p=i.blocks[d];M(p)}o=!1},d(a){a&&w(e),u&&u.d(),i.block.d(),i.token=null,i=null,t[13](null),l=!1,U(f)}}}function Bt(t,e,n){let r,s;de(t,K,b=>n(2,r=b)),de(t,ue,b=>n(4,s=b));let o=null,{focusHandler:l}=e,f;function u(){console.log("focusing"),f.focus()}function i(){return f}const a=async()=>{n(3,o=qt(s)),await o,ce(f)},d=async()=>{n(3,o=zt()),await o,ce(f)};ke(()=>{ue.set(""),K.set(we),n(3,o=d())});const p=b=>b.replace(/(\r\n|\n|\r)/gm,""),c=b=>r.words.slice(0,b).join(" "),h=async()=>{await ue.set(s+p(c(r.wordsWanted))),await K.set(we),ce(f)},L=async b=>{r.active&&h(),b.key==="Tab"?(b.preventDefault(),a()):ue.set(f.textContent)},m=()=>{f.blur()};function g(b){j[b?"unshift":"push"](()=>{f=b,n(1,f)})}return t.$$set=b=>{"focusHandler"in b&&n(0,l=b.focusHandler)},t.$$.update=()=>{t.$$.dirty&6&&r.wordsWanted&&ce(f)},[l,f,r,o,s,p,c,L,m,u,i,a,d,g]}class Dt extends D{constructor(e){super(),B(this,e,Bt,Nt,P,{focusHandler:0,focus:9,getDiv:10,getAdventureMore:11,getAdventureStart:12})}get focus(){return this.$$.ctx[9]}get getDiv(){return this.$$.ctx[10]}get getAdventureMore(){return this.$$.ctx[11]}get getAdventureStart(){return this.$$.ctx[12]}}function Ot(t,{delay:e=0,duration:n=400,easing:r=Fe}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*s}`}}function jt(t){const e=Rt(t);return t.addEventListener("touchstart",e),t.addEventListener("mousedown",e),{destroy(){t.removeEventListener("touchstart",e),t.removeEventListener("mousedown",e)}}}function Rt(t){const e=It(t);return function(n){n.preventDefault(),t.dispatchEvent(new CustomEvent("dragstart"));const r="touches"in n?"touchmove":"mousemove",s="touches"in n?"touchend":"mouseup";document.addEventListener(r,e),document.addEventListener(s,o);function o(l){l.stopPropagation(),document.removeEventListener(r,e),document.removeEventListener(s,o),t.dispatchEvent(new CustomEvent("dragend"))}}}function It(t){const e=t.parentNode;return function(n){const{left:r,width:s}=e.getBoundingClientRect(),o="touches"in n?n.touches[0].clientX:n.clientX,l=Math.min(Math.max((o-r)/s,0),1)||0;t.dispatchEvent(new CustomEvent("drag",{detail:l}))}}function Vt(t){let e,n,r,s,o,l;const f=t[4].default,u=se(f,t,t[3],null);return{c(){e=C("div"),n=C("div"),u&&u.c(),$(n,"class","thumb-content svelte-8w8x88"),We(n,"active",t[1]),$(e,"class","thumb svelte-8w8x88"),$(e,"style",r=`left: ${t[0]*100}%;`)},m(i,a){y(i,e,a),H(e,n),u&&u.m(n,null),s=!0,o||(l=[it(jt.call(null,e)),N(e,"dragstart",t[5]),N(e,"drag",t[6]),N(e,"dragend",t[7])],o=!0)},p(i,[a]){u&&u.p&&(!s||a&8)&&oe(u,f,i,i[3],s?re(f,i[3],a,null):le(i[3]),null),(!s||a&2)&&We(n,"active",i[1]),(!s||a&1&&r!==(r=`left: ${i[0]*100}%;`))&&$(e,"style",r)},i(i){s||(E(u,i),s=!0)},o(i){M(u,i),s=!1},d(i){i&&w(e),u&&u.d(i),o=!1,U(l)}}}function Ft(t,e,n){let{$$slots:r={},$$scope:s}=e;const o=Ee();let l,{pos:f}=e;const u=()=>(n(1,l=!0),o("active",!0)),i=({detail:d})=>n(0,f=d),a=()=>(n(1,l=!1),o("active",!1));return t.$$set=d=>{"pos"in d&&n(0,f=d.pos),"$$scope"in d&&n(3,s=d.$$scope)},[f,l,o,s,r,u,i,a]}class et extends D{constructor(e){super(),B(this,e,Ft,Vt,P,{pos:0})}}const Xt=t=>({}),Oe=t=>({}),Gt=t=>({}),je=t=>({});function Re(t){let e,n,r;return{c(){e=C("input"),$(e,"type","number"),e.value=n=t[0][1],$(e,"name",r=t[1][1]),$(e,"class","svelte-1q9yxz9")},m(s,o){y(s,e,o)},p(s,o){o&1&&n!==(n=s[0][1])&&e.value!==n&&(e.value=n),o&2&&r!==(r=s[1][1])&&$(e,"name",r)},d(s){s&&w(e)}}}function Kt(t){let e;return{c(){e=C("div"),$(e,"class","thumb svelte-1q9yxz9")},m(n,r){y(n,e,r)},p:k,d(n){n&&w(e)}}}function Ut(t){let e;const n=t[10].default,r=se(n,t,t[15],null),s=r||Kt();return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&32768)&&oe(r,n,o,o[15],e?re(n,o[15],l,null):le(o[15]),null)},i(o){e||(E(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function Jt(t){let e;const n=t[10].left,r=se(n,t,t[15],je),s=r||Ut(t);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){r?r.p&&(!e||l&32768)&&oe(r,n,o,o[15],e?re(n,o[15],l,Gt):le(o[15]),je):s&&s.p&&(!e||l&32768)&&s.p(o,e?l:-1)},i(o){e||(E(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function Ie(t){let e,n,r;function s(l){t[13](l)}let o={$$slots:{default:[Zt]},$$scope:{ctx:t}};return t[3][1]!==void 0&&(o.pos=t[3][1]),e=new et({props:o}),j.push(()=>qe(e,"pos",s)),e.$on("active",t[14]),{c(){T(e.$$.fragment)},m(l,f){S(e,l,f),r=!0},p(l,f){const u={};f&32768&&(u.$$scope={dirty:f,ctx:l}),!n&&f&8&&(n=!0,u.pos=l[3][1],Le(()=>n=!1)),e.$set(u)},i(l){r||(E(e.$$.fragment,l),r=!0)},o(l){M(e.$$.fragment,l),r=!1},d(l){A(e,l)}}}function Qt(t){let e;return{c(){e=C("div"),$(e,"class","thumb svelte-1q9yxz9")},m(n,r){y(n,e,r)},p:k,d(n){n&&w(e)}}}function Yt(t){let e;const n=t[10].default,r=se(n,t,t[15],null),s=r||Qt();return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&32768)&&oe(r,n,o,o[15],e?re(n,o[15],l,null):le(o[15]),null)},i(o){e||(E(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function Zt(t){let e;const n=t[10].right,r=se(n,t,t[15],Oe),s=r||Yt(t);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){r?r.p&&(!e||l&32768)&&oe(r,n,o,o[15],e?re(n,o[15],l,Xt):le(o[15]),Oe):s&&s.p&&(!e||l&32768)&&s.p(o,e?l:-1)},i(o){e||(E(s,o),e=!0)},o(o){M(s,o),e=!1},d(o){s&&s.d(o)}}}function xt(t){let e,n,r,s,o,l,f,u,i,a,d,p,c=t[2]&&Re(t);function h(g){t[11](g)}let L={$$slots:{default:[Jt]},$$scope:{ctx:t}};t[3][0]!==void 0&&(L.pos=t[3][0]),i=new et({props:L}),j.push(()=>qe(i,"pos",h)),i.$on("active",t[12]);let m=t[2]&&Ie(t);return{c(){e=C("input"),s=W(),c&&c.c(),o=W(),l=C("div"),f=C("div"),u=W(),T(i.$$.fragment),d=W(),m&&m.c(),$(e,"type","number"),e.value=n=t[0][0],$(e,"name",r=t[1][0]),$(e,"class","svelte-1q9yxz9"),$(f,"class","progress svelte-1q9yxz9"),$(f,"style",t[5]),$(l,"class","track svelte-1q9yxz9")},m(g,b){y(g,e,b),y(g,s,b),c&&c.m(g,b),y(g,o,b),y(g,l,b),H(l,f),H(l,u),S(i,l,null),H(l,d),m&&m.m(l,null),p=!0},p(g,[b]){(!p||b&1&&n!==(n=g[0][0])&&e.value!==n)&&(e.value=n),(!p||b&2&&r!==(r=g[1][0]))&&$(e,"name",r),g[2]?c?c.p(g,b):(c=Re(g),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),(!p||b&32)&&$(f,"style",g[5]);const z={};b&32768&&(z.$$scope={dirty:b,ctx:g}),!a&&b&8&&(a=!0,z.pos=g[3][0],Le(()=>a=!1)),i.$set(z),g[2]?m?(m.p(g,b),b&4&&E(m,1)):(m=Ie(g),m.c(),E(m,1),m.m(l,null)):m&&(Me(),M(m,1,1,()=>{m=null}),ze())},i(g){p||(E(i.$$.fragment,g),E(m),p=!0)},o(g){M(i.$$.fragment,g),M(m),p=!1},d(g){g&&w(e),g&&w(s),c&&c.d(g),g&&w(o),g&&w(l),A(i),m&&m.d()}}}function en(t){return[Math.min(...t),Math.max(...t)]}function tn(t,e,n){let r,{$$slots:s={},$$scope:o}=e;const l=Ee();let{name:f=[]}=e,{range:u=!1}=e,{min:i=0}=e,{max:a=100}=e,{step:d=1}=e,{value:p=[i,a]}=e,c,h=!1,{order:L=!1}=e;function m(v){const Q=i%d,nt=a-i;n(0,p=v.map(he=>i+he*nt).map(he=>Math.round((he-Q)/d)*d+Q)),l("input",p)}function g(v){n(3,c=v.map(Q=>Math.min(Math.max(Q,i),a)).map(Q=>(Q-i)/(a-i)))}function b(){g(p),m(c)}function z(v){t.$$.not_equal(c[0],v)&&(c[0]=v,n(3,c),n(2,u),n(9,L),n(4,h))}const R=({detail:v})=>n(4,h=v);function J(v){t.$$.not_equal(c[1],v)&&(c[1]=v,n(3,c),n(2,u),n(9,L),n(4,h))}const _=({detail:v})=>n(4,h=v);return t.$$set=v=>{"name"in v&&n(1,f=v.name),"range"in v&&n(2,u=v.range),"min"in v&&n(6,i=v.min),"max"in v&&n(7,a=v.max),"step"in v&&n(8,d=v.step),"value"in v&&n(0,p=v.value),"order"in v&&n(9,L=v.order),"$$scope"in v&&n(15,o=v.$$scope)},t.$$.update=()=>{t.$$.dirty&540&&u&&L&&h&&n(3,c=en(c)),t.$$.dirty&24&&h&&m(c),t.$$.dirty&17&&(h||g(p)),t.$$.dirty&192&&b(),t.$$.dirty&12&&n(5,r=`
    left: ${u?Math.min(c[0],c[1])*100:0}%;
    right: ${100-Math.max(c[0],u?c[1]:c[0])*100}%;
  `)},[p,f,u,c,h,r,i,a,d,L,s,z,R,J,_,o]}class nn extends D{constructor(e){super(),B(this,e,tn,xt,P,{name:1,range:2,min:6,max:7,step:8,value:0,order:9})}}function sn(t){let e;return{c(){e=C("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svelte-8hbimu"><path d="M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"></path></svg>',$(e,"class","svelte-8hbimu")},m(n,r){y(n,e,r)},p:k,i:k,o:k,d(n){n&&w(e)}}}class rn extends D{constructor(e){super(),B(this,e,null,sn,P,{})}}function Ve(t){let e=t[1][0]+"",n,r,s=t[1][1]+"",o,l,f,u,i,a;function d(c){t[7](c)}let p={max:t[1][1]};return t[1]!==void 0&&(p.value=t[1]),u=new nn({props:p}),j.push(()=>qe(u,"value",d)),u.$on("input",t[4]),{c(){n=G(e),r=G(" / "),o=G(s),l=W(),f=C("div"),T(u.$$.fragment),$(f,"class","sliderContainer svelte-upqqzt")},m(c,h){y(c,n,h),y(c,r,h),y(c,o,h),y(c,l,h),y(c,f,h),S(u,f,null),a=!0},p(c,h){(!a||h&2)&&e!==(e=c[1][0]+"")&&me(n,e),(!a||h&2)&&s!==(s=c[1][1]+"")&&me(o,s);const L={};h&2&&(L.max=c[1][1]),!i&&h&2&&(i=!0,L.value=c[1],Le(()=>i=!1)),u.$set(L)},i(c){a||(E(u.$$.fragment,c),a=!0)},o(c){M(u.$$.fragment,c),a=!1},d(c){c&&w(n),c&&w(r),c&&w(o),c&&w(l),c&&w(f),A(u)}}}function on(t){let e,n,r,s,o,l,f;r=new rn({});let u=t[2].active&&Ve(t);return{c(){e=C("div"),n=C("button"),T(r.$$.fragment),s=W(),u&&u.c(),$(n,"class","svelte-upqqzt"),$(e,"id","bar"),$(e,"class","svelte-upqqzt")},m(i,a){y(i,e,a),H(e,n),S(r,n,null),H(e,s),u&&u.m(e,null),t[8](e),o=!0,l||(f=N(n,"click",t[3]),l=!0)},p(i,[a]){i[2].active?u?(u.p(i,a),a&4&&E(u,1)):(u=Ve(i),u.c(),E(u,1),u.m(e,null)):u&&(Me(),M(u,1,1,()=>{u=null}),ze())},i(i){o||(E(r.$$.fragment,i),E(u),o=!0)},o(i){M(r.$$.fragment,i),M(u),o=!1},d(i){i&&w(e),A(r),u&&u.d(),t[8](null),l=!1,f()}}}function tt(){}function ln(t,e,n){let r;de(t,K,m=>n(2,r=m));const s=Ee();let o=window.visualViewport.height,l=window.visualViewport,f,u,i=[0,0];K.subscribe(m=>{n(1,i[0]=m.wordsWanted,i),n(1,i[1]=m.words.length,i)}),ke(()=>{n(0,f.style.bottom=`${o-l.height}px`,f)});function a(){u||(u=kt(f,Ot,{duration:500})),u.start()}const d=m=>{s("barInteraction",{type:"continueAdventure"})},p=()=>{/iPhone|iPad|iPod/.test(window.navigator.userAgent)||(o=l.height),n(0,f.style.bottom=`${o-l.height}px`,f)},c=()=>{K.update(m=>(m.wordsWanted=i[0],m))};window.visualViewport.addEventListener("resize",p);function h(m){i=m,n(1,i)}function L(m){j[m?"unshift":"push"](()=>{f=m,n(0,f)})}return[f,i,r,d,c,a,tt,h,L]}class un extends D{constructor(e){super(),B(this,e,ln,on,P,{transition:5,focus:6})}get transition(){return this.$$.ctx[5]}get focus(){return tt}}function cn(t){let e,n;return{c(){e=C("div"),$(e,"id","status"),$(e,"class",n=Te(t[0])+" svelte-jtfmqh")},m(r,s){y(r,e,s)},p(r,[s]){s&1&&n!==(n=Te(r[0])+" svelte-jtfmqh")&&$(e,"class",n)},i:k,o:k,d(r){r&&w(e)}}}function fn(t,e,n){let r;de(t,F,o=>n(0,r=o)),ke(async()=>{s()});const s=async()=>{Be(),setInterval(async()=>{Be()},2e3)};return[r]}class an extends D{constructor(e){super(),B(this,e,fn,cn,P,{})}}function dn(t){let e,n,r,s,o;return s=new an({}),{c(){e=C("div"),n=C("h1"),n.textContent="Adventure Writer",r=W(),T(s.$$.fragment),$(e,"class","svelte-1ly5bqw")},m(l,f){y(l,e,f),H(e,n),H(e,r),S(s,e,null),o=!0},p:k,i(l){o||(E(s.$$.fragment,l),o=!0)},o(l){M(s.$$.fragment,l),o=!1},d(l){l&&w(e),A(s)}}}class mn extends D{constructor(e){super(),B(this,e,null,dn,P,{})}}function _n(t){let e,n,r,s,o,l,f,u,i,a;ne(t[7]),n=new mn({});let d={focusHandler:t[5]};s=new Dt({props:d}),t[8](s);let p={};return l=new un({props:p}),t[9](l),l.$on("barInteraction",t[6]),{c(){e=C("main"),T(n.$$.fragment),r=W(),T(s.$$.fragment),o=W(),f=C("div"),T(l.$$.fragment),q(f,"display","contents"),q(f,"--visibility",t[0])},m(c,h){y(c,e,h),S(n,e,null),H(e,r),S(s,e,null),H(e,o),H(e,f),S(l,f,null),u=!0,i||(a=N(window,"resize",t[7]),i=!0)},p(c,[h]){const L={};s.$set(L),h&1&&q(f,"--visibility",c[0]);const m={};l.$set(m)},i(c){u||(E(n.$$.fragment,c),E(s.$$.fragment,c),E(l.$$.fragment,c),u=!0)},o(c){M(n.$$.fragment,c),M(s.$$.fragment,c),M(l.$$.fragment,c),u=!1},d(c){c&&w(e),A(n),t[8](null),A(s),t[9](null),A(l),i=!1,a()}}}function pn(t,e,n){let r="hidden",s,o,l,f;const u=()=>{setTimeout(()=>{document.activeElement===s.getDiv()?n(0,r="visible"):n(0,r="hidden"),o.transition()},200)},i=c=>{c.detail.type==="continueAdventure"&&s.getAdventureMore(),s.focus(),o.focus()};function a(){n(3,l=window.innerWidth),n(4,f=window.innerHeight)}function d(c){j[c?"unshift":"push"](()=>{s=c,n(1,s)})}function p(c){j[c?"unshift":"push"](()=>{o=c,n(2,o)})}return[r,s,o,l,f,u,i,a,d,p]}class hn extends D{constructor(e){super(),B(this,e,pn,_n,P,{})}}new hn({target:document.getElementById("app")});
